{"version":3,"file":"index.js","sourceRoot":"","sources":["../src/index.ts"],"names":[],"mappings":";;;;;AAAA,sDAA8B;AAC9B,qDAAoC;AACpC,gDAAwB;AACxB,kEAAyC;AACzC,+BAAoC;AACpC,qCAA4C;AAC5C,sCAAkD;AAClD,2DAAwD;AAExD,MAAM,GAAG,GAAG,IAAA,iBAAO,GAAE,CAAC;AAEtB,MAAM,WAAW,GAAG,kBAAY,CAAC;AAEjC,aAAa;AACb,GAAG,CAAC,GAAG,CACL,IAAA,cAAI,EAAC;IACH,MAAM,EAAE,WAAW;IACnB,WAAW,EAAE,IAAI;CAClB,CAAC,CACH,CAAC;AACF,GAAG,CAAC,GAAG,CAAC,iBAAO,CAAC,IAAI,EAAE,CAAC,CAAC;AACxB,GAAG,CAAC,GAAG,CAAC,IAAA,uBAAY,GAAE,CAAC,CAAC;AAExB,IAAA,YAAS,GAAE,CAAC;AAEZ,GAAG,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,EAAE;IACxB,GAAG,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;AAC3B,CAAC,CAAC,CAAC;AACH,GAAG,CAAC,IAAI,CAAC,eAAe,EAAE,+BAAc,CAAC,CAAC;AAE1C,MAAM,MAAM,GAAG,IAAA,mBAAY,EAAC,GAAG,CAAC,CAAC;AACjC,IAAA,yBAAgB,EAAC,MAAM,CAAC,CAAC;AAEzB,MAAM,CAAC,MAAM,CAAC,UAAI,EAAE,GAAG,EAAE;IACvB,OAAO,CAAC,GAAG,CAAC,2CAA2C,UAAI,EAAE,CAAC,CAAC;AACjE,CAAC,CAAC,CAAC;AAEH,kBAAe,GAAG,CAAC","sourcesContent":["import express from \"express\";\r\nimport connectDB from \"./config/db\";\r\nimport cors from \"cors\";\r\nimport cookieParser from \"cookie-parser\";\r\nimport { createServer } from \"http\";\r\nimport { initializeSocket } from \"./socket\";\r\nimport { FRONTEND_URL, PORT } from \"./config/env\";\r\nimport { webhookHandler } from \"./utils/webhookHandler\";\r\n\r\nconst app = express();\r\n\r\nconst frontendUrl = FRONTEND_URL;\r\n\r\n// Middleware\r\napp.use(\r\n  cors({\r\n    origin: frontendUrl,\r\n    credentials: true,\r\n  })\r\n);\r\napp.use(express.json());\r\napp.use(cookieParser());\r\n\r\nconnectDB();\r\n\r\napp.get(\"/\", (req, res) => {\r\n  res.send(\"API running!\");\r\n});\r\napp.post(\"/api/webhooks\", webhookHandler);\r\n\r\nconst server = createServer(app);\r\ninitializeSocket(server);\r\n\r\nserver.listen(PORT, () => {\r\n  console.log(`server running at port http://localhost:${PORT}`);\r\n});\r\n\r\nexport default app;\r\n"]}